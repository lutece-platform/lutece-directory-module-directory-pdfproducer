<#assign defaut_entry_directory_filename= -1>
<#if position_entry_directory_filename?exists>
	<#assign defaut_entry_directory_filename = position_entry_directory_filename>
</#if>
<div class="row-fluid">
	<div class="span12">
	<fieldset>
		<legend>#i18n{module.directory.pdfproducer.create.producer.config.title} </legend>
		<form enctype="multipart/form-data" class="form-horizontal" name="" method="post" action="jsp/admin/plugins/directory/modules/pdfproducer/DoCreateConfigProducer.jsp">
			<input type="hidden" name="id_directory" value="${idDirectory}" >
			<label for="title">#i18n{module.directory.pdfproducer.create.producer.config.name} * </label>
			<#if config_name?exists>
				<input type="text" maxlength="255" value="${config_name}" class="input-xxlarge" id="" name="name">
			<#else>
				<input type="text" maxlength="255" value="" class="input-xxlarge" id="" name="name">
			</#if>			
			<label class="radio"> #i18n{module.directory.pdfproducer.create.producer.config.namefile} *
			<input type="radio" name="type_config_file_name" value="default" <#if !mark_type_config_file_name?exists || mark_type_config_file_name='default'>checked="checked"</#if>> #i18n{module.directory.pdfproducer.create.producer.config.namefile-default}
			</label>
			<#if list_entries_filename?exists && list_entries_filename?has_content >
			<label class="radio">
				<input type="radio" name="type_config_file_name" value="directory_entry"
			  <#if mark_type_config_file_name?exists && mark_type_config_file_name='directory_entry'> checked="checked" </#if>>
				    	#i18n{module.directory.pdfproducer.create.producer.config.namefile-field}</label>
				<@combo name="id_entry_filename" items=list_entries_filename default_value=defaut_entry_directory_filename />
			</#if>
				<label class="radio">
				<input type="radio" name="type_config_file_name" value="text"	<#if mark_type_config_file_name?exists && mark_type_config_file_name='text'>checked="checked"</#if>>
				#i18n{module.directory.pdfproducer.create.producer.config.namefile-text}
				</label>
				<input type="text" maxlength="255" value="<#if mark_text_file_name?exists>${mark_text_file_name}</#if>" class="input-large" id="" name="text_file_name" />
				<br />
				
				<input type="checkbox" id="export_not_empty" name="export_not_empty" <#if export_not_empty?has_content>checked="checked"</#if> />
				&nbsp;#i18n{module.directory.pdfproducer.create.producer.config.extract}
			<hr>
			<table  class="table table-striped table-condensed">
				<tr> 
					<th>#i18n{directory.modify_directory.manage_entry.row_title}</th>
					<th>#i18n{directory.modify_directory.manage_entry.row_type}</th>
					<th>#i18n{directory.modify_directory.manage_entry.row_actions}</th>
				</tr>
				<#if entry_list?has_content>
					<#list entry_list as entry>
						<tr>
							<#if entry.entryType.group>
								<td>${entry.title}</td>
								<td>
								<#if !entry.entryType.group>
				           			#i18n{${entry.entryType.titleI18nKey}}
				           		</#if>
				           		</td>
				           		<td>
				           			<input type="hidden" name="config_entry" value="${entry.idEntry}" >
				           		</td>
							<#elseif !entry.entryType.comment>
								<td>
									${entry.title}				
								</td>
								<td>
								<#if !entry.entryType.group>
				           			#i18n{${entry.entryType.titleI18nKey}}
				           		</#if>
				           		</td>
				           		<td>
				           			<#if id_entry_list?has_content && id_entry_list?seq_contains(entry.idEntry?string)>
										<input type="checkbox" name="config_entry" value="${entry.idEntry}" checked="checked">
									<#else>
										<input type="checkbox" name="config_entry" value="${entry.idEntry}">
									</#if>
				           		</td>
							</#if>
						</tr>
						<#if entry.children?exists>
							<#list entry.children as entry_child>
								<tr>						
									<td>
					               		<#if entry_child.entryType.comment>
					              			${entry_child.comment}
					              		<#else>
											${entry_child.title}
										</#if>
					               	</td>
					               	<td>
										<#if !entry_child.entryType.group>
						           			#i18n{${entry_child.entryType.titleI18nKey}}
						           		</#if>
					           		</td>
					           		<td>
					           			<#if id_entry_list?has_content && id_entry_list?seq_contains(entry_child.idEntry?string)>
											<input type="checkbox" name="config_entry" value="${entry_child.idEntry}" checked="checked">
										<#else>
											<input type="checkbox" name="config_entry" value="${entry_child.idEntry}">
										</#if>
					           		</td>
				               	</tr>
				            </#list>
			            </#if>
					</#list>
				</#if>
			</table> 
			<div class="form-actions">
				<button class="btn btn-primary btn-small" type="submit" name="save">
					<i class="icon-ok icon-white"></i>&nbsp;
					#i18n{module.directory.pdfproducer.create.producer.config.button.create}
				</button>
				<button class="btn btn-primary btn-small" type="submit" name="cancel">
					<i class="icon-ok-circle icon-white"></i>&nbsp;
					#i18n{module.directory.pdfproducer.create.producer.config.button.cancel}
				</button>
				<button class="btn btn-primary btn-small" type="submit" name="allchecked">
					<i class="icon-check icon-white"></i>&nbsp;
					#i18n{module.directory.pdfproducer.create.producer.config.button.allchecked}
				</button>
			</div>	
		</form>	
	</div>
</div>
		