<#assign defaut_entry_directory_filename= -1>
<#if position_entry_directory_filename?exists>
	<#assign defaut_entry_directory_filename = position_entry_directory_filename>
</#if>

<div class="content-box">
	<h2> #i18n{module.directory.pdfproducer.create.producer.config.title} </h2>
	<div class="content-box-content">
		<form enctype="multipart/form-data" name="" method="post" action="jsp/admin/plugins/directory/modules/pdfproducer/DoCreateConfigProducer.jsp">
			<label for="title">#i18n{module.directory.pdfproducer.create.producer.config.name} * : </label>
			<#if config_name?exists>
				<input type="text" maxlength="255" value="${config_name}" size="80" id="" name="name">
			<#else>
				<input type="text" maxlength="255" value="" size="80" id="" name="name">
			</#if>			
			<input type="hidden" name="id_directory" value="${idDirectory}" />
			
			<p>
				<label> #i18n{module.directory.pdfproducer.create.producer.config.namefile} * :</label>
				<input type=radio name="type_config_file_name" value="default" 
					<#if !mark_type_config_file_name?exists || mark_type_config_file_name='default'>
						checked="checked"
					</#if>				
				/>
				#i18n{module.directory.pdfproducer.create.producer.config.namefile-default}
			</p>
			<#if list_entries_filename?exists && list_entries_filename?has_content >
				<p id="entry_filename">
				    <label> &nbsp;</label>
				    	<input type=radio name="type_config_file_name" value="directory_entry"
						    <#if mark_type_config_file_name?exists && mark_type_config_file_name='directory_entry'>
								checked="checked"
							</#if>
						/>
				    	#i18n{module.directory.pdfproducer.create.producer.config.namefile-field} :
				    	<br />
						<label> &nbsp;</label>
						<@combo name="id_entry_filename" items=list_entries_filename default_value=defaut_entry_directory_filename />
				</p>
			</#if>
			<p>
				<label> &nbsp;</label>
				<input type=radio name="type_config_file_name" value="text"
					<#if mark_type_config_file_name?exists && mark_type_config_file_name='text'>
						checked="checked"
					</#if>
				/>
				#i18n{module.directory.pdfproducer.create.producer.config.namefile-text} :
				<br />
				<label> &nbsp;</label>
				<input type="text" maxlength="255" value="<#if mark_text_file_name?exists>${mark_text_file_name}</#if>" size="80" id="" name="text_file_name" />
			</p>
			<table width="100%">
				<tr> 
					<th width="50%"> 
						#i18n{directory.modify_directory.manage_entry.row_title}
					</th>
					<th width="25%"> 
						#i18n{directory.modify_directory.manage_entry.row_type}
					</th>
					<th width="25%"> 
						#i18n{directory.modify_directory.manage_entry.row_actions}
					</th>
				</tr>
			
				<#if entry_list?has_content>
					<#list entry_list as entry>
						<tr>
							<#if entry.entryType.group>
								<td>
									${entry.title}				
								</td>
								<td>
								<#if !entry.entryType.group>
				           			#i18n{${entry.entryType.titleI18nKey}}
				           		</#if>
				           		</td>
				           		<td>
				           			<input type="hidden" name="config_entry" value="${entry.idEntry}" />
				           		</td>
							<#elseif !entry.entryType.comment>
								<td>
									${entry.title}				
								</td>
								<td>
								<#if !entry.entryType.group>
				           			#i18n{${entry.entryType.titleI18nKey}}
				           		</#if>
				           		</td>
				           		<td>
				           			<#if id_entry_list?has_content && id_entry_list?seq_contains(entry.idEntry?string)>
										<input type="checkbox" name="config_entry" value="${entry.idEntry}" checked="checked" />
									<#else>
										<input type="checkbox" name="config_entry" value="${entry.idEntry}" />
									</#if>
									
				           		</td>
							</#if>
						</tr>
						<#if entry.children?exists>
							<#list entry.children as entry_child>
								<tr>						
									<td class="cell-indent">
					               		<#if entry_child.entryType.comment>
					              			${entry_child.comment}
					              		<#else>
											${entry_child.title}
										</#if>
					               	</td>
					               	<td>
										<#if !entry_child.entryType.group>
						           			#i18n{${entry_child.entryType.titleI18nKey}}
						           		</#if>
					           		</td>
					           		<td>
					           			<#if id_entry_list?has_content && id_entry_list?seq_contains(entry_child.idEntry?string)>
											<input type="checkbox" name="config_entry" value="${entry_child.idEntry}" checked="checked" />
										<#else>
											<input type="checkbox" name="config_entry" value="${entry_child.idEntry}" />
										</#if>
					           		</td>
				               	</tr>
				            </#list>
			            </#if>
					</#list>
				</#if>
			</table> 
			<p>
				<input class="button" type="submit" name="save" value="#i18n{module.directory.pdfproducer.create.producer.config.button.create}" />
				<input class="button" type="submit" name="cancel" value="#i18n{module.directory.pdfproducer.create.producer.config.button.cancel}" />		
				<input class="button" type="submit" name="allchecked" value="#i18n{module.directory.pdfproducer.create.producer.config.button.allchecked}" />
			</p>	
		</form>	
	</div>
</div>
		